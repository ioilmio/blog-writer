{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Health Check Backend",
      "type": "shell",
      "command": "curl -f http://localhost:8000/health || exit 1",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "FastAPI Backend",
      "type": "shell",
      "command": "uvicorn backend.main:app --reload --host 0.0.0.0 --port 8000",
      "isBackground": true,
      "dependsOn": ["Health Check Backend"],
      "problemMatcher": ["$tsc"],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "Ollama Serve",
      "type": "shell",
      "command": "if systemctl is-active --quiet ollama; then sudo systemctl stop ollama; fi; ollama serve",
      "isBackground": true,
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "Neo4j Database",
      "type": "shell",
      "command": "if [ ! \"$(docker ps -q -f name=neo4j-blog-rag)\" ]; then if [ \"$(docker ps -aq -f status=exited -f name=neo4j-blog-rag)\" ]; then docker start neo4j-blog-rag; else docker run --name neo4j-blog-rag -d -p7474:7474 -p7687:7687 -v $PWD/neo4j_data:/data -e NEO4J_AUTH=neo4j/testpassword neo4j:latest; fi; else echo 'Neo4j container already running.'; fi",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "Generate All Blog Posts",
      "type": "shell",
      "command": "python3 generate_all_blog_posts.py",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    }
  ]
}
